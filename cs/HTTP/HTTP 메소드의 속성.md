# HTTP 메소드의 속성.md
1. 안전하다(Safe Methods)
2. 멱등하다(Idempotent Methods)
3. 캐시 가능(Casheable Methods)


![스크린샷 2022-09-14 오후 12 28 00](https://user-images.githubusercontent.com/101084642/190052982-9e540dec-6489-4cc8-9682-644b82f40da9.png)
[출처](https://ko.wikipedia.org/wiki/HTTP)

## 🔎 안전 **`Safe`**
- 호출해도 리소르를 변경하지 않는다
- **`Q`** : 계속 호출이되어서 로그가 쌓이고 이로 인한 장애 발생시?
- **`A`** : 안전함이란 해당 리소스만 고려하고 위의 경우까지 고려하지 않는다

<br>

##  🔎 멱등(Idempotent)
- 한 번 호출하든, 두 번 호출하든** 결과가 같다** f(f(x)) = f(x)

#### 🌟 멱등 메서드
- **`GET`** : 한 번 조회 하든, 두 번 조회 하든 같은 결과가 조회 된다
- **` PUT`** : 결과를 대체한다 따라서, 같은 요청을 여러번 해도 최종 결과는 똑같다
- **`DELETE`** : 결과를 삭제한다. 같은 요청을 여러번 해도 최종 결과는 똑같다
- **🔥`POST`** : **멱등이 아니다.** 두 번 호출하면 같은 결제가 중복해서 발생할 수 있다

<br>

### 멱등의 활용
- 자동 복구 메커니즘
- 서버가 TIME OUT 등으로 정상 응답을 못주었을때, 클라이언트가 같은 요청을 다시 해도 되는가에 대한 판단 

#### `Q :` 🌟 재요청 중간에 다른곳에서 리소스가 변경된다면?
- 사용자1: GET → username: A, age: 20
- 사용자2: PUT → username: A, age: 30
- 사용자1: GET → username: A, age: 30 → 사용자2의 영향으로 바뀐 데이터 조회
#### `A:` 🌟 멱등은 욉 요인으로 중간에 리소스가 변경되는것 까지는 고려하지 않는다

<br>

## 🔎 캐시가능(Cacheable)
- 응답 결과 리소스를 캐시해서 사용해도 되는가?
- GET, HEAD, POST, PATCH 캐시가능
- 실제로는 GET, HEAD 정도만 캐시로 사용
  - POST, PATCH는 본문 내용까지 캐시 키로 고려해야 하는데, 구현이 쉽지 않기 때문 
