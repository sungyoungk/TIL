# EntityManagerFactory, EntityManager, EntityTransaction,JPQL

- 엔티티 매니저 팩토리는 전체 애플리케이션에서 하나만 생성되어 엔티티를 관리한다
- 무언가 트렌스액션을 하려면 엔티티 메니저를 호출해서 해야하고, 트랜스 엑션은 엔티티 트랜스엑션 안에서만 이루어져야함


- JPQL은 쿼리 대상이 객체다. 이 부분이 SQL과 차이가 나는데 SQL은 테이블을 대상으로 한다
- JPQL에서 방언을 바꿔 주면 자동으로 언어를 알아서 바꾸어 준다. SQL은 변경될때마다 조인 되는 부분등 전부다 바꿔주어야 한다

```java
EntityManagerFactory emf = Persistence.createEntityManagerFactory("hello");

        EntityManager em = emf.createEntityManager();

        EntityTransaction tx = em.getTransaction();
        tx.begin();

        try{
            Member findMember = em.find(Member.class, 1L);
            List<Member> result = em.createQuery("select m from Member as m", Member.class)
                    .setFirstResult(5)
                    .setMaxResults(8)
                    .getResultList();



            for(Member member : result) {
                System.out.println("member list =" + member.getName());

            }


            tx.commit();
        } catch (Exception e) {
            tx.rollback();
        } finally {
            em.close();
        }
        emf.close();



    }

```
