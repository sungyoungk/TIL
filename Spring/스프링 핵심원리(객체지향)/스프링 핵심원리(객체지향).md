## OCP, DIP μ„λ°
```java
public class OrderServiceImpl implements OrderService {
  //    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
      private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
  }
  ```
- __DIP μ„λ°:__  `OrderServiceImpl` λ” `DiscountPolicy` μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ©΄μ„ DIPλ¥Ό μ§€ν‚¨ κ²ƒ κ°™μ§€λ§...
- ν΄λμ¤ μμ΅΄κ΄€κ³„λ¥Ό λ³΄λ©΄ μ¶”μƒ(μΈν„°νμ΄μ¤) λΏλ§ μ•„λ‹λΌ κµ¬ν„ ν΄λμ¤μ—λ„ μμ΅΄ν•κ³  μλ‹¤<img width="743" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-07-22 α„‹α…©α„α…¥α†« 12 45 49" src="https://user-images.githubusercontent.com/101084642/180257114-bee556a7-5ec2-490e-b75c-a5941780276b.png">

  - __μ¶”μƒ(μΈν„°νμ΄μ¤) μμ΅΄ :__ `DiscountPolicy`
  - __κµ¬ν„ ν΄λμ¤ μμ΅΄ :__  `FixDiscountPolicy` , `RateDiscountPolicy`
- __OCP μ„λ°:__ OCPλ€ ν™•μ¥μ—λ” μ—΄λ ¤μκ³  μμ •μ—λ” λ‹«ν€μλ‹¤!,<br>
π” κ·Έλ°λ°... μ§€κΈ μ½”λ“λ” κΈ°λ¥μ„ ν™•μ¥ν•΄μ„ λ³€κ²½ν•λ©΄, ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μν–¥μ„ μ¤€λ‹¤! λ”°λΌμ„ OCPλ¥Ό μ„λ°ν•λ‹¤
<img width="740" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-07-22 α„‹α…©α„α…¥α†« 12 44 58" src="https://user-images.githubusercontent.com/101084642/180256902-26addc8b-f316-47e7-bdab-acb7bccc001e.png">
<img width="743" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-07-22 α„‹α…©α„α…¥α†« 12 45 49" src="https://user-images.githubusercontent.com/101084642/180257144-c90d03ed-01b3-4cf6-9cab-d18b835aeee2.png">
<br>

### π ν•΄κ²°λ°©λ²• <br>
βΆ DIP μ„λ° μ¶”μƒμ—λ§ μμ΅΄ν•λ„λ΅ λ³€κ²½(μΈν„°νμ΄μ¤μ—λ§ μμ΅΄)
<img width="737" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-07-22 α„‹α…©α„α…¥α†« 12 47 57" src="https://user-images.githubusercontent.com/101084642/180257541-c20a1ae1-606d-4d9c-b4da-732af7469adb.png">
 ```java
   public class OrderServiceImpl implements OrderService {
      //private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
      private DiscountPolicy discountPolicy;
}
```

### π”¥ λ¬Έμ μ 
- κµ¬ν„μ²΄ new(); κ°€ μ—†μΌλ―€λ΅ null pointer exception λ°μƒ! <br>
### π”¥ ν•΄κ²°λ°©μ•
- OrderServiceImpl μ— DiscountPolicy μ κµ¬ν„ κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ… <br>

### AppConfig ν΄λμ¤
- κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ²°ν•λ” μ±…μ„μ„ κ°€μ§€λ” λ³„λ„μ ν΄λμ¤λ¥Ό μƒμ„±
```java
public class AppConfig {
      public MemberService memberService() {
          return new MemberServiceImpl(new MemoryMemberRepository());
}
      public OrderService orderService() {
          return new OrderServiceImpl(
                  new MemoryMemberRepository(),
                  new FixDiscountPolicy());
  } 
}
```

### μƒμ„±μ μ£Όμ…
 ```java

    public class MemberServiceImpl implements MemberService {
        private final MemberRepository memberRepository;
        public MemberServiceImpl(MemberRepository memberRepository) {
            this.memberRepository = memberRepository;
}
        public void join(Member member) {
            memberRepository.save(member);
}
        public Member findMember(Long memberId) {
            return memberRepository.findById(memberId);
} 
    }
```

### κ²°κ³Ό
-  `MemberServiceImpl` μ€ `MemoryMemberRepository` λ¥Ό μμ΅΄ν•μ§€ μ•λ”λ‹¤! `MemberRepository` μΈν„°νμ΄μ¤λ§ μμ΅΄
- `MemberServiceImpl` μ…μ¥μ—μ„ μƒμ„±μλ¥Ό ν†µν•΄ μ–΄λ–¤ κµ¬ν„ κ°μ²΄κ°€ λ“¤μ–΄μ¬μ§€(μ£Όμ…λ μ§€)λ” μ• μ μ—†μ
- `MemberServiceImpl` μ μƒμ„±μλ¥Ό ν†µν•΄μ„ μ–΄λ–¤ κµ¬ν„ κ°μ²΄λ¥Ό μ£Όμ…ν• μ§€λ” μ¤μ§ μ™Έλ¶€( AppConfig )μ—μ„ κ²°μ •
- `MemberServiceImpl` μ€ μμ΅΄κ΄€κ³„μ— λ€ν• κ³ λ―Όμ€ μ™Έλ¶€μ— λ§΅κΈ°κ³  μ‹¤ν–‰μ—λ§ μ§‘μ¤‘ν•λ©΄ λλ‹¤.

- κ°μ²΄μ μƒμ„±κ³Ό μ—°κ²°μ€ AppConfig κ°€ λ‹΄λ‹Ήν•λ‹¤.
- __DIP μ™„μ„±:__ `MemberServiceImpl` μ€ `MemberRepository` μΈ μ¶”μƒμ—λ§ μμ΅΄ν•λ©΄ λλ‹¤. μ΄μ  κµ¬μ²΄ ν΄λμ¤λ¥Ό λ°λΌλ„ λλ‹¤.
- __κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬:__ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• κ³Ό μ‹¤ν–‰ν•λ” μ—­ν• μ΄ λ…ν™•ν λ¶„λ¦¬λμ—λ‹¤.

<img width="734" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2022-07-22 α„‹α…©α„α…¥α†« 12 57 46" src="https://user-images.githubusercontent.com/101084642/180259600-63981e5a-19f8-4618-bc53-31d9fcc903e4.png">

 * λ³Έ ν¬μ¤ν…μ€ κ°μΈ ν•™μµμ„ μ„ν• κΈ°λ΅ μ©λ„μ΄λ©° λ¨λ“  λ‚΄μ©λ¬Όμ μ €μ‘κ¶μ€ 
 [μΈν”„λ°](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B8%B0%EB%B3%B8%ED%8E%B8/unit/55350?tab=curriculum)μ— μμ
