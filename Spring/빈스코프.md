# ë¹ˆ ìŠ¤ì½”í”„
- ë¹ˆ ìŠ¤ì½”í”„ë€, ë§ ê·¸ëŒ€ë¡œ ë¹ˆì´ ì¡´ì¬í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ë¥¼ ëœ»í•œë‹¤
- ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì¥ ë§ì´ ì ‘í•˜ê²Œ ë˜ëŠ” ì‹±ê¸€í†¤ë¹ˆì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ì‹œì‘ê³¼ í•¨ê»˜ ìƒì„±ë˜ê³ , ì¢…ë£Œë ë•Œ ê¹Œì§€ ìœ ì§€ëœë‹¤

<br>

### ë¹ˆ ìŠ¤ì½”í”„ì˜ ì¢…ë¥˜
- **ì‹±ê¸€í†¤ :** ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ì‹œì‘ê³¼ ì¢…ë£Œê¹Œì§€ ìœ ì§€ë˜ëŠ” ê°€ì¥ ë„“ì€ ë²”ìœ„ì˜ ìŠ¤ì½”í”„ì´ë‹¤
- **í”„ë¡œí† íƒ€ì… :** ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” í”„ë¡œí† íƒ€ì… ë¹ˆì˜ ìƒì„±ê³¼ ì˜ì¡´ê´€ê³„ ì£¼ì…ê¹Œì§€ë§Œ ê´€ì—¬í•˜ê³  ë”ì´ìƒ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ì§§ì€ ë²”ìœ„ì˜ ìŠ¤ì½”í”„ì´ë‹¤


<br>

### ì›¹ ê´€ë ¨ ìŠ¤ì½”í”„
- **request :** ì›¹ ìš”ì²­ì´ ë“¤ì–´ì˜¤ê³  ë‚˜ê°ˆë•Œ ê¹Œì§€ ìœ ì§€ë˜ëŠ” ìŠ¤ì½”í”„ì´ë‹¤
- **session :** ì›¹ ì„¸ì…˜ì´ ìƒì„±ë˜ê³  ì¢…ë£Œë  ë•Œ ê¹Œì§€ ìœ ì§€ë˜ëŠ” ìŠ¤ì½”í”„
- **application :** ì›¹ì˜ ì„œë¸”ë¦° ì»¨í…ìŠ¤íŠ¸ì™€ ê°™ì€ ë²”ìœ„ë¡œ ìœ ì§€ë˜ëŠ” ìŠ¤ì½”í”„

<br>

### ìŠ¤ì½”í”„ ì§€ì • ë°©ë²• - ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ìë™ë“±ë¡
```java

 @Scope("prototype")
 @Component
 public class PrototypeBean{}

```

<br>

### ìŠ¤ì½”í”„ ì§€ì • ë°©ë²• - ìˆ˜ë™ë“±ë¡
```java

 @Scope("prototype")
 @Bean
 PrototypeBean(){
  return new PrototypeBean();
 }

```

<br>

## ğŸ” í”„ë¡œí† íƒ€ì…(prototype) ìŠ¤ì½”í”„ 
- ì‹±ê¸€í†¤ ë¹ˆì€ ìŠ¤í”„ë§ ë¹ˆì„ ì¡°íšŒí•˜ë©´ í•­ìƒ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ì˜ ë¹ˆì„ ë°˜í™˜í•œë‹¤(ì‹±ê¸€í†¤)
- **í”„ë¡œí† íƒ€ì… ë¹ˆì€ ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒì‹œ í•­ìƒ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜**í•œë‹¤

<br>

> ### ğŸŒŸ í”„ë¡œí† íƒ€ì… ë¹ˆì€ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ë¹ˆì„ ìƒì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ ì£¼ì…, ì´ˆê¸°í™” ë¼ì§€ë§Œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œ ê´€ë¦¬ëœë‹¤
- ë”°ë¼ì„œ, ìŠ¤í”„ë§ì»¨í…Œì´ë„ˆëŠ” ìƒì„±ëœ í”„ë¡œí† íƒ€ì… ë¹ˆì„ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤(í”„ë¡œí† íƒ€ì… ë¹ˆì„ ê´€ë¦¬í•  ì±…ì„ì€ í´ë¼ì´ì–¸íŠ¸ì— ìˆë‹¤)
- `@PreDestroy` ê°™ì€ ì¢…ë£Œ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤(ìˆ˜ë™ìœ¼ë¡œ ì½”ë“œë¡œ ì ì–´ì„œ í˜¸ì¶œí•´ì•¼í•¨)

<br>


#### âœ… ì˜ˆì‹œ - ì‹±ê¸€í†¤ ìŠ¤ì½”í”„ ë¹ˆ 

```java

public class SingletonTest {

    @Test
    void singletonBeanFind() {
        AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(SingletonBean.class);
        SingletonBean singletonBean1 = ac.getBean(SingletonBean.class);
        SingletonBean singletonBean2 = ac.getBean(SingletonBean.class);
        System.out.println("singletonBen2 = " + singletonBean2);
        System.out.println("singletonBean1 = " + singletonBean1);
        assertThat(singletonBean1).isSameAs(singletonBean2);

        ac.close();
    }

    @Scope("singleton")
    static class SingletonBean {
        @PostConstruct
        public void init() {
            System.out.println("SingletonBean.init");
        }

    @PreDestroy
    public void destroy() {
        System.out.println("SingletonBean.destroy");

    }
    }
}

```

- ì‹¤í–‰ê²°ê³¼

```text

SingletonBean.init
singletonBen2 = com.hi.core.scope.SingletonTest$SingletonBean@cc43f62
singletonBean1 = com.hi.core.scope.SingletonTest$SingletonBean@cc43f62
20:52:30.456 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@35047d03, started on Wed Aug 31 20:52:30 KST 2022
SingletonBean.destroy

```

<br>

#### âœ… ì˜ˆì‹œ - í”„ë¡œí† íƒ€ì… ìŠ¤ì½”í”„ ë¹ˆ

```java
public class PrototypeTest {
    @Test
    void prototypeBeanFind() {
        AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(PrototypeBean.class);
        System.out.println("find prototypeBean1");

        PrototypeBean prototypeBean1 = ac.getBean(PrototypeBean.class);
        System.out.println("find prototypeBean2");

        PrototypeBean prototypeBean2 = ac.getBean(PrototypeBean.class);

        System.out.println("prototypeBean1 = " + prototypeBean1);
        System.out.println("prototypeBean2 = " + prototypeBean2);

        assertThat(prototypeBean1).isNotSameAs(prototypeBean2);

        ac.close();

    }
    @Scope("prototype")
    static class PrototypeBean {

        @PostConstruct
        public void init() {
            System.out.println("prototypeBean.init");
        }

        @PreDestroy
        public void destroy() {
            System.out.println("prototypeBean.destroy");

        }
    }
}

```




